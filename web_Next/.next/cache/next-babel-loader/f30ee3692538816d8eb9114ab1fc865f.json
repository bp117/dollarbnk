{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nvar BASE_URL = 'http://localhost:3001';\nvar config = {\n  authToken: ''\n};\nexport var getAPIConfig = function getAPIConfig() {\n  return _objectSpread({}, config);\n};\nexport var updateAPIConfig = function updateAPIConfig(newConfig) {\n  config = _objectSpread({}, config, {}, newConfig);\n};\nexport var callAPI = function callAPI(endpoint) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'get';\n  var data = arguments.length > 2 ? arguments[2] : undefined;\n  return new Promise(function (resolve, reject) {\n    axios({\n      method: method,\n      headers: {\n        Authorization: \"Bearer \".concat(getAPIConfig().authToken)\n      },\n      url: \"\".concat(BASE_URL).concat(endpoint),\n      data: data\n    }).then(function (res) {\n      return resolve(res.data);\n    })[\"catch\"](function (err) {\n      reject({\n        status: err.response && err.response.status || '',\n        message: err.message || ''\n      });\n    });\n  });\n};","map":{"version":3,"sources":["/Users/binduraj/Documents/GitHub/dollarbank/web_Next/helper/api/base.js"],"names":["axios","BASE_URL","config","authToken","getAPIConfig","updateAPIConfig","newConfig","callAPI","endpoint","method","data","Promise","resolve","reject","headers","Authorization","url","then","res","err","status","response","message"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAG,uBAAjB;AAEA,IAAIC,MAAM,GAAG;AACVC,EAAAA,SAAS,EAAE;AADD,CAAb;AAIA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,2BAAYF,MAAZ;AAAA,CAArB;AAEP,OAAO,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,SAAS,EAAI;AACzCJ,EAAAA,MAAM,qBACAA,MADA,MAEAI,SAFA,CAAN;AAIF,CALM;AAOP,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,QAAD,EAAoC;AAAA,MAAzBC,MAAyB,uEAAhB,KAAgB;AAAA,MAATC,IAAS;AACxD,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACrCb,IAAAA,KAAK,CAAC;AACHS,MAAAA,MAAM,EAANA,MADG;AAEHK,MAAAA,OAAO,EAAE;AACNC,QAAAA,aAAa,mBAAYX,YAAY,GAAGD,SAA3B;AADP,OAFN;AAKHa,MAAAA,GAAG,YAAKf,QAAL,SAAgBO,QAAhB,CALA;AAMHE,MAAAA,IAAI,EAAJA;AANG,KAAD,CAAL,CAQIO,IARJ,CAQS,UAAAC,GAAG;AAAA,aAAIN,OAAO,CAACM,GAAG,CAACR,IAAL,CAAX;AAAA,KARZ,WASU,UAAAS,GAAG,EAAI;AACXN,MAAAA,MAAM,CAAC;AACJO,QAAAA,MAAM,EAAGD,GAAG,CAACE,QAAJ,IAAgBF,GAAG,CAACE,QAAJ,CAAaD,MAA9B,IAAyC,EAD7C;AAEJE,QAAAA,OAAO,EAAEH,GAAG,CAACG,OAAJ,IAAe;AAFpB,OAAD,CAAN;AAIF,KAdJ;AAeF,GAhBM,CAAP;AAiBF,CAlBM","sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'http://localhost:3001';\n\nlet config = {\n   authToken: ''\n};\n\nexport const getAPIConfig = () => ({ ...config });\n\nexport const updateAPIConfig = newConfig => {\n   config = {\n      ...config,\n      ...newConfig\n   };\n};\n\nexport const callAPI = (endpoint, method = 'get', data) => {\n   return new Promise((resolve, reject) => {\n      axios({\n         method,\n         headers: {\n            Authorization: `Bearer ${getAPIConfig().authToken}`\n         },\n         url: `${BASE_URL}${endpoint}`,\n         data\n      })\n         .then(res => resolve(res.data))\n         .catch(err => {\n            reject({\n               status: (err.response && err.response.status) || '',\n               message: err.message || ''\n            });\n         });\n   });\n};\n"]},"metadata":{},"sourceType":"module"}
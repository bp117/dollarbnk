{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from 'actions';\nimport withAuth from 'hoc/WithAuth';\nimport { withRedux } from 'hoc/WithRedux';\nimport { isValidToken, login } from 'tools';\nimport { updateAPIConfig } from 'api/base';\nimport LoginBox from 'components/Auth/Login';\nimport PageContainer from 'hoc/PageContainer';\n\nvar LoginPage = /*#__PURE__*/function (_Component) {\n  _inherits(LoginPage, _Component);\n\n  var _super = _createSuper(LoginPage);\n\n  function LoginPage() {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      loading: false,\n      error: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoginSubmit\", function (email, password) {\n      _this.setState({\n        loading: true,\n        error: null\n      }); // Dispatch auth action\n      // There will be automatic redirect to panel, in HOC\n\n\n      _this.props.login({\n        email: email,\n        password: password\n      })[\"catch\"](function (error) {\n        return _this.setState({\n          loading: false,\n          error: error\n        });\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(PageContainer, null, __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"col\"\n      }, __jsx(LoginBox, {\n        onLoginSubmit: this.onLoginSubmit,\n        loading: this.state.loading,\n        error: this.state.error\n      }))));\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    login: function login(data) {\n      return dispatch(actions.login(data));\n    }\n  };\n};\n\nexport default withRedux(connect(null, mapDispatchToProps)(withAuth(LoginPage)));","map":{"version":3,"sources":["/Users/binduraj/Documents/GitHub/dollarbank/web_Next/pages/login.js"],"names":["React","Component","connect","actions","withAuth","withRedux","isValidToken","login","updateAPIConfig","LoginBox","PageContainer","LoginPage","loading","error","email","password","setState","props","onLoginSubmit","state","mapDispatchToProps","dispatch","data"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,OAAZ,MAAyB,SAAzB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,YAAT,EAAuBC,KAAvB,QAAoC,OAApC;AACA,SAASC,eAAT,QAAgC,UAAhC;AAEA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,aAAP,MAA0B,mBAA1B;;IAEMC,S;;;;;;;;;;;;;;;;4DAEM;AACJC,MAAAA,OAAO,EAAE,KADL;AAEJC,MAAAA,KAAK,EAAE;AAFH,K;;oEAqBQ,UAACC,KAAD,EAAQC,QAAR,EAAqB;AACjC,YAAKC,QAAL,CAAc;AAAEJ,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,KAAK,EAAE;AAAxB,OAAd,EADiC,CAGjC;AACA;;;AACA,YAAKI,KAAL,CACKV,KADL,CACW;AAAEO,QAAAA,KAAK,EAALA,KAAF;AAASC,QAAAA,QAAQ,EAARA;AAAT,OADX,WAEW,UAAAF,KAAK;AAAA,eAAI,MAAKG,QAAL,CAAc;AAAEJ,UAAAA,OAAO,EAAE,KAAX;AAAkBC,UAAAA,KAAK,EAALA;AAAlB,SAAd,CAAJ;AAAA,OAFhB;AAGH,K;;;;;;;6BAxBQ;AACL,aACI,MAAC,aAAD,QACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI,MAAC,QAAD;AACI,QAAA,aAAa,EAAE,KAAKK,aADxB;AAEI,QAAA,OAAO,EAAE,KAAKC,KAAL,CAAWP,OAFxB;AAGI,QAAA,KAAK,EAAE,KAAKO,KAAL,CAAWN;AAHtB,QADJ,CADJ,CADJ,CADJ;AAaH;;;;EArBmBZ,S;;AAkCxB,IAAMmB,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACnC,SAAO;AACHd,IAAAA,KAAK,EAAE,eAAAe,IAAI;AAAA,aAAID,QAAQ,CAAClB,OAAO,CAACI,KAAR,CAAce,IAAd,CAAD,CAAZ;AAAA;AADR,GAAP;AAGH,CAJD;;AAMA,eAAejB,SAAS,CAACH,OAAO,CAAC,IAAD,EAAOkB,kBAAP,CAAP,CAAkChB,QAAQ,CAACO,SAAD,CAA1C,CAAD,CAAxB","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from 'actions';\nimport withAuth from 'hoc/WithAuth';\nimport { withRedux } from 'hoc/WithRedux';\nimport { isValidToken, login } from 'tools';\nimport { updateAPIConfig } from 'api/base';\n\nimport LoginBox from 'components/Auth/Login';\nimport PageContainer from 'hoc/PageContainer';\n\nclass LoginPage extends Component {\n\n    state = {\n        loading: false,\n        error: null\n    };\n\n    render() {\n        return (\n            <PageContainer>\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <LoginBox\n                            onLoginSubmit={this.onLoginSubmit}\n                            loading={this.state.loading}\n                            error={this.state.error}\n                        />\n                    </div>\n                </div>\n            </PageContainer>\n        );\n    }\n\n    onLoginSubmit = (email, password) => {\n        this.setState({ loading: true, error: null });\n\n        // Dispatch auth action\n        // There will be automatic redirect to panel, in HOC\n        this.props\n            .login({ email, password })\n            .catch(error => this.setState({ loading: false, error }));\n    };\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        login: data => dispatch(actions.login(data))\n    };\n};\n\nexport default withRedux(connect(null, mapDispatchToProps)(withAuth(LoginPage)));\n"]},"metadata":{},"sourceType":"module"}
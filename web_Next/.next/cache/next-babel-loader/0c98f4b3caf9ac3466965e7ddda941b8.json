{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { Form, Field, withFormik } from 'formik';\nimport * as Yup from 'yup';\nimport SingleModuleButton from 'components/UI/Buttons/SingleModuleButton';\n\nvar InnerForm = function InnerForm(props) {\n  var errors = props.errors,\n      touched = props.touched;\n  return __jsx(Form, null, __jsx(\"div\", null, __jsx(\"p\", null, \"If you want to change email, please contact the administrator.\"), __jsx(\"p\", null, \"Below you can change your password\"), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(Field, {\n    type: \"email\",\n    className: \"form-control login-input\",\n    name: \"email\",\n    disabled: true\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(Field, {\n    type: \"password\",\n    className: \"form-control password-input\",\n    name: \"password\",\n    placeholder: \"Enter new password...\"\n  }), touched.password && errors.password && __jsx(\"p\", {\n    className: \"field-invalid\"\n  }, errors.password)), __jsx(\"p\", {\n    className: \"validation-info\"\n  }, props.status)), __jsx(SingleModuleButton, {\n    text: \"Save details\",\n    type: \"submit\"\n  }));\n}; // Wrap our form with the using withFormik HoC\n\n\nvar ChangeDetailsForm = withFormik({\n  // Transform outer props into form values\n  mapPropsToValues: function mapPropsToValues(props) {\n    return {\n      email: props.userEmail,\n      password: ''\n    };\n  },\n  validationSchema: Yup.object().shape({\n    email: Yup.string().email('This is not a valid email'),\n    password: Yup.string().min(6, 'Your password has to be at least 6 characters')\n  }),\n  // Submission handler\n  handleSubmit: function handleSubmit(values, _ref) {\n    var props = _ref.props,\n        setStatus = _ref.setStatus;\n    var email = values.email,\n        password = values.password;\n\n    if (!password) {\n      setStatus('No details changed');\n      return;\n    }\n\n    setStatus('Sending...');\n    props.changeUserDetails(email, password).then(function () {\n      return setStatus('Details successfully changed!');\n    })[\"catch\"](function (error) {\n      return setStatus('Problems... please log out and try again');\n    });\n  }\n})(InnerForm);\nexport default ChangeDetailsForm;","map":{"version":3,"sources":["/Users/binduraj/Documents/GitHub/dollarbank/web_Next/components/containers/Profile/ChangeDetails/Form.js"],"names":["React","Form","Field","withFormik","Yup","SingleModuleButton","InnerForm","props","errors","touched","password","status","ChangeDetailsForm","mapPropsToValues","email","userEmail","validationSchema","object","shape","string","min","handleSubmit","values","setStatus","changeUserDetails","then","error"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,UAAtB,QAAwC,QAAxC;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,kBAAP,MAA+B,0CAA/B;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,KAAK,EAAI;AAAA,MAChBC,MADgB,GACID,KADJ,CAChBC,MADgB;AAAA,MACRC,OADQ,GACIF,KADJ,CACRE,OADQ;AAGxB,SACG,MAAC,IAAD,QACG,mBACG,kFADH,EAEG,sDAFH,EAIG;AAAK,IAAA,SAAS,EAAC;AAAf,KACG,MAAC,KAAD;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,SAAS,EAAC,0BAA9B;AAAyD,IAAA,IAAI,EAAC,OAA9D;AAAsE,IAAA,QAAQ;AAA9E,IADH,CAJH,EAQG;AAAK,IAAA,SAAS,EAAC;AAAf,KACG,MAAC,KAAD;AACG,IAAA,IAAI,EAAC,UADR;AAEG,IAAA,SAAS,EAAC,6BAFb;AAGG,IAAA,IAAI,EAAC,UAHR;AAIG,IAAA,WAAW,EAAC;AAJf,IADH,EAOIA,OAAO,CAACC,QAAR,IAAoBF,MAAM,CAACE,QAA3B,IACE;AAAG,IAAA,SAAS,EAAC;AAAb,KAA8BF,MAAM,CAACE,QAArC,CARN,CARH,EAoBG;AAAG,IAAA,SAAS,EAAC;AAAb,KAAgCH,KAAK,CAACI,MAAtC,CApBH,CADH,EAwBG,MAAC,kBAAD;AAAoB,IAAA,IAAI,EAAC,cAAzB;AAAwC,IAAA,IAAI,EAAC;AAA7C,IAxBH,CADH;AA4BF,CA/BD,C,CAiCA;;;AACA,IAAMC,iBAAiB,GAAGT,UAAU,CAAC;AAClC;AACAU,EAAAA,gBAAgB,EAAE,0BAAAN,KAAK;AAAA,WAAK;AAAEO,MAAAA,KAAK,EAAEP,KAAK,CAACQ,SAAf;AAA0BL,MAAAA,QAAQ,EAAE;AAApC,KAAL;AAAA,GAFW;AAIlCM,EAAAA,gBAAgB,EAAEZ,GAAG,CAACa,MAAJ,GAAaC,KAAb,CAAmB;AAClCJ,IAAAA,KAAK,EAAEV,GAAG,CAACe,MAAJ,GAAaL,KAAb,CAAmB,2BAAnB,CAD2B;AAElCJ,IAAAA,QAAQ,EAAEN,GAAG,CAACe,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoB,+CAApB;AAFwB,GAAnB,CAJgB;AASlC;AACAC,EAAAA,YAAY,EAAE,sBAACC,MAAD,QAAkC;AAAA,QAAvBf,KAAuB,QAAvBA,KAAuB;AAAA,QAAhBgB,SAAgB,QAAhBA,SAAgB;AAAA,QACrCT,KADqC,GACjBQ,MADiB,CACrCR,KADqC;AAAA,QAC9BJ,QAD8B,GACjBY,MADiB,CAC9BZ,QAD8B;;AAG7C,QAAI,CAACA,QAAL,EAAe;AACZa,MAAAA,SAAS,CAAC,oBAAD,CAAT;AACA;AACF;;AAEDA,IAAAA,SAAS,CAAC,YAAD,CAAT;AAEAhB,IAAAA,KAAK,CACDiB,iBADJ,CACsBV,KADtB,EAC6BJ,QAD7B,EAEIe,IAFJ,CAES;AAAA,aAAMF,SAAS,CAAC,+BAAD,CAAf;AAAA,KAFT,WAGU,UAAAG,KAAK;AAAA,aAAIH,SAAS,CAAC,0CAAD,CAAb;AAAA,KAHf;AAIF;AAxBiC,CAAD,CAAV,CAyBvBjB,SAzBuB,CAA1B;AA2BA,eAAeM,iBAAf","sourcesContent":["import React from 'react';\nimport { Form, Field, withFormik } from 'formik';\nimport * as Yup from 'yup';\nimport SingleModuleButton from 'components/UI/Buttons/SingleModuleButton';\n\nconst InnerForm = props => {\n   const { errors, touched } = props;\n\n   return (\n      <Form>\n         <div>\n            <p>If you want to change email, please contact the administrator.</p>\n            <p>Below you can change your password</p>\n\n            <div className=\"form-group\">\n               <Field type=\"email\" className=\"form-control login-input\" name=\"email\" disabled />\n            </div>\n\n            <div className=\"form-group\">\n               <Field\n                  type=\"password\"\n                  className=\"form-control password-input\"\n                  name=\"password\"\n                  placeholder=\"Enter new password...\"\n               />\n               {touched.password && errors.password && (\n                  <p className=\"field-invalid\">{errors.password}</p>\n               )}\n            </div>\n\n            <p className=\"validation-info\">{props.status}</p>\n         </div>\n\n         <SingleModuleButton text=\"Save details\" type=\"submit\" />\n      </Form>\n   );\n};\n\n// Wrap our form with the using withFormik HoC\nconst ChangeDetailsForm = withFormik({\n   // Transform outer props into form values\n   mapPropsToValues: props => ({ email: props.userEmail, password: '' }),\n\n   validationSchema: Yup.object().shape({\n      email: Yup.string().email('This is not a valid email'),\n      password: Yup.string().min(6, 'Your password has to be at least 6 characters')\n   }),\n\n   // Submission handler\n   handleSubmit: (values, { props, setStatus }) => {\n      const { email, password } = values;\n\n      if (!password) {\n         setStatus('No details changed');\n         return;\n      }\n\n      setStatus('Sending...');\n\n      props\n         .changeUserDetails(email, password)\n         .then(() => setStatus('Details successfully changed!'))\n         .catch(error => setStatus('Problems... please log out and try again'));\n   }\n})(InnerForm);\n\nexport default ChangeDetailsForm;\n"]},"metadata":{},"sourceType":"module"}
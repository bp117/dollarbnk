{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { Form, Field, withFormik } from 'formik';\nimport * as Yup from 'yup';\nimport SingleModuleButton from 'components/UI/Buttons/SingleModuleButton';\n\nconst InnerForm = props => {\n  const {\n    errors,\n    touched\n  } = props;\n  return __jsx(Form, null, __jsx(\"div\", null, __jsx(\"p\", null, \"If you want to change email, please contact the administrator.\"), __jsx(\"p\", null, \"Below you can change your password\"), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(Field, {\n    type: \"email\",\n    className: \"form-control login-input\",\n    name: \"email\",\n    disabled: true\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(Field, {\n    type: \"password\",\n    className: \"form-control password-input\",\n    name: \"password\",\n    placeholder: \"Enter new password...\"\n  }), touched.password && errors.password && __jsx(\"p\", {\n    className: \"field-invalid\"\n  }, errors.password)), __jsx(\"p\", {\n    className: \"validation-info\"\n  }, props.status)), __jsx(SingleModuleButton, {\n    text: \"Save details\",\n    type: \"submit\"\n  }));\n}; // Wrap our form with the using withFormik HoC\n\n\nconst ChangeDetailsForm = withFormik({\n  // Transform outer props into form values\n  mapPropsToValues: props => ({\n    email: props.userEmail,\n    password: ''\n  }),\n  validationSchema: Yup.object().shape({\n    email: Yup.string().email('This is not a valid email'),\n    password: Yup.string().min(6, 'Your password has to be at least 6 characters')\n  }),\n  // Submission handler\n  handleSubmit: (values, {\n    props,\n    setStatus\n  }) => {\n    const {\n      email,\n      password\n    } = values;\n\n    if (!password) {\n      setStatus('No details changed');\n      return;\n    }\n\n    setStatus('Sending...');\n    props.changeUserDetails(email, password).then(() => setStatus('Details successfully changed!')).catch(error => setStatus('Problems... please log out and try again'));\n  }\n})(InnerForm);\nexport default ChangeDetailsForm;","map":null,"metadata":{},"sourceType":"module"}
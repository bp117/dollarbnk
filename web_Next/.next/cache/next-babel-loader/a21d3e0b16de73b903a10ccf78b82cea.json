{"ast":null,"code":"import { updateAPIConfig } from 'api/base';\nimport { loginUser, registerUser } from 'api/auth';\nimport * as actionTypes from './actionTypes'; // Tools\n\nimport { setAuthToken } from 'tools';\nexport const setAuthStatus = (status, email = null) => ({\n  type: actionTypes.SET_AUTH_STATUS,\n  status,\n  email\n}); // Login\n\nexport const login = data => async dispatch => {\n  try {\n    const token = await loginUser(data);\n\n    if (!token) {\n      dispatch(setAuthStatus(false));\n      return;\n    }\n\n    setAuthToken(token);\n    updateAPIConfig({\n      authToken: token\n    });\n    dispatch(setAuthStatus(true));\n  } catch (err) {\n    dispatch(setAuthStatus(false));\n  }\n}; // Register\n\nexport const register = data => async dispatch => {\n  try {\n    const user = await registerUser(data);\n\n    if (!user) {\n      dispatch(setAuthStatus(false));\n      return;\n    }\n\n    dispatch(setAuthStatus(true));\n  } catch (err) {\n    dispatch(setAuthStatus(false));\n  }\n};","map":null,"metadata":{},"sourceType":"module"}
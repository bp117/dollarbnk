{"ast":null,"code":"import _ from 'lodash';\nimport { getMyself, updateMyself } from 'api/users';\nimport * as actionTypes from './actionTypes'; // Get myself\n\nexport const getProfile = () => async dispatch => {\n  try {\n    const data = await getMyself();\n\n    if (!data) {\n      dispatch(fetchProfileStatus(false));\n      return;\n    }\n\n    dispatch({\n      type: actionTypes.FETCH_PROFILE,\n      data\n    });\n  } catch (err) {\n    throw new Error('Accounts fetch failed');\n  }\n}; // Status\n\nexport const fetchProfileStatus = status => ({\n  type: actionTypes.FETCH_PROFILE_STATUS,\n  status\n}); // Change user's details\n\nexport const changeUserDetails = (email = null, password = null, phone = null) => async dispatch => {\n  try {\n    const data = {};\n\n    if (email) {\n      data.email = email;\n    }\n\n    if (password) {\n      data.password = password;\n    }\n\n    if (phone) {\n      data.phone = phone;\n    }\n\n    if (!_.isEmpty(data)) {\n      const user = await updateMyself(data);\n\n      if (!user) {\n        dispatch(fetchProfileStatus(false));\n        return;\n      }\n\n      dispatch({\n        type: actionTypes.USER_CHANGE_DETAILS\n      });\n    }\n  } catch (err) {\n    dispatch(fetchProfileStatus(false));\n  }\n};","map":null,"metadata":{},"sourceType":"module"}
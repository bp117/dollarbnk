{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { Form, Field, withFormik } from 'formik';\nimport * as Yup from 'yup';\nimport SingleModuleButton from 'components/UI/Buttons/SingleModuleButton';\n\nconst InnerForm = props => {\n  const {\n    errors,\n    touched\n  } = props;\n  return __jsx(Form, null, __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", {\n    htmlFor: \"daily-online-limit\"\n  }, \"Enter new daily online limit\"), __jsx(Field, {\n    type: \"text\",\n    id: \"daily-online-limit\",\n    className: \"form-control\",\n    name: \"dailyOnlineLimit\",\n    placeholder: \"New daily online limit...\"\n  }), touched.dailyOnlineLimit && errors.dailyOnlineLimit && __jsx(\"p\", null, errors.dailyOnlineLimit)), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", {\n    htmlFor: \"daily-withdrawal-limit\"\n  }, \"Enter new daily withdrawal limit\"), __jsx(Field, {\n    type: \"text\",\n    id: \"daily-withdrawal-limit\",\n    className: \"form-control\",\n    name: \"dailyWithdrawalLimit\",\n    placeholder: \"New daily withdrawal limit...\"\n  }), touched.dailyWithdrawalLimit && errors.dailyWithdrawalLimit && __jsx(\"p\", null, errors.dailyWithdrawalLimit)), __jsx(\"p\", {\n    className: \"validation-info\"\n  }, props.status)), __jsx(SingleModuleButton, {\n    text: \"Change limits\",\n    type: \"submit\"\n  }));\n};\n\nconst LimitsChangeForm = withFormik({\n  // Transform outer props into form values\n  mapPropsToValues: props => ({\n    dailyOnlineLimit: props.currentOnlineLimit,\n    dailyWithdrawalLimit: props.currentWithdrawalLimit\n  }),\n  validationSchema: Yup.object().shape({\n    dailyWithdrawalLimit: Yup.number().typeError('It must be a number').positive('Please enter a positive number'),\n    dailyOnlineLimit: Yup.number().typeError('It must be a number').positive('Please enter a positive number')\n  }),\n  // Submission handler\n  handleSubmit: (values, {\n    props,\n    setStatus\n  }) => {\n    const {\n      dailyOnlineLimit,\n      dailyWithdrawalLimit\n    } = values;\n\n    if (!dailyOnlineLimit && !dailyWithdrawalLimit) {\n      setStatus('No limits changed');\n      return;\n    }\n\n    setStatus('Sending...');\n    props.changeCardLimits(dailyOnlineLimit, dailyWithdrawalLimit).then(data => setStatus('Limits successfully changed!')).catch(error => setStatus('Problems, try again...'));\n  }\n})(InnerForm);\nexport default LimitsChangeForm;","map":null,"metadata":{},"sourceType":"module"}